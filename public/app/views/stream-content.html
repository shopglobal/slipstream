<div ng-controller="ContentController as content" class="list-container">

	<div class="content-list">

		<div infinite-scroll="content.loadMore( currentStream, 2)" infinite-scroll-immediate-check="true">
		
			<div class="panel item-panel" ng-repeat="item in content.items" ng-hide="hideItem">
				<h2>{{ item.title }}</h2>

				<div ng-class="{ 'watch-iframe' : currentStream == 'watch', 'listen-iframe' : currentStream == 'listen' }" iframely url="{{ item.url }}"></div>

				<div class="item-description">
					{{ item.description | limitTo: 200 }} ...
				</div>

				<div class="content-tags">
					<tags-input 
						ng-model="item.tags" 
						on-tag-added="tagAdded( $tag, item._id )"
						on-tag-removed="tagRemoved( $tag, item._id )"
						class="no-padding">
					</tags-input>
				</div>

				<div class="date-added-ago pull-left meta-text">
					{{ item.added | timeAgo }}
				</div>

				<div class="share-links">
					<span class="dropdown user-menu">
					  <button class="btn dropdown-toggle no-border" type="button" id="item-options" data-toggle="dropdown" aria-expanded="true">
					    <span class="glyphicon glyphicon-option-horizontal"></span>
					    <span class="sr-only">
							Toggle Item Options Menu
						</span>
					  </button>
					  
					  <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="item-options">
					    <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="deleteItem( currentStream, item._id ); hideItem=true">Delete</a></li>
					  </ul>
					</span>

					<button class="btn btn-green btn-xs no-border">
						<a href="{{ item.url }}"><span class="glyphicon glyphicon-share-alt"></span></a>
					</button>
				</div>
				
				<div class="clearfix"></div>
			</div>

		</div>

	</div>

</div>